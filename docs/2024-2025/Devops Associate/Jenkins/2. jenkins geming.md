# Jenkins Gaming

## installasi Jenkins

### Membuat bridge network

```
docker network create jenkins
```

### Membuat file penyimpanan file Jenkins Docker
```
mkdir jenkins
cd jenkins
```

### Membuat dockerfile untuk Jenkins Docker

```
nano Dockerfile
```
```
FROM jenkins/jenkins:lts-jdk21

USER root
RUN apt-get update && apt-get install -y \
    ca-certificates curl gnupg lsb-release \
    && mkdir -p /etc/apt/keyrings \
    && curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc \
    && echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] \
       https://download.docker.com/linux/debian $(lsb_release -cs) stable" \
       > /etc/apt/sources.list.d/docker.list \
    && apt-get update && apt-get install -y docker-ce-cli \
    && apt-get clean && rm -rf /var/lib/apt/lists/*

USER jenkins
RUN jenkins-plugin-cli --plugins "blueocean docker-workflow"

```

### buat docker compose
``` 
nano compose.yaml
```

```
version: '3.9'

services:
  jenkins:
    build: .
    container_name: jenkins
    restart: unless-stopped
    ports:
      - "8080:8080"
      - "50000:50000"
    volumes:
      - jenkins_home:/var/jenkins_home
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - JAVA_OPTS=-Djava.awt.headless=true

volumes:
  jenkins_home:
```

### Jalankan docker compose
```
docker compose up -d --build
```

### Jalankan jenkins di browser
```
http://your-server-ip:8080
```
### Masukkan administrator password

![alt text](image-12.png)  

copy dari server

```
docker exec -it jenkins cat /var/jenkins_home/secrets/initialAdminPassword
```

![alt text](image-13.png)  

![alt text](image-14.png)  

## Fork Repo

```
https://github.com/SMKMADINATULQURAN-PROJECT-2023/FE-Kelompok-Umroh.git
https://github.com/SMKMADINATULQURAN-PROJECT-2023/BE-Kelompok-Umroh.git
```

## git clone ulang di folder rihlatul app


## Membuat Registry Docker Image Local

```
docker run -d \
  -p 5500:5500 \
  --name registry \
  --restart=always \
  registry:2
```

##


